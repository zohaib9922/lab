{"version":3,"sources":["faq-woocommerce-admin.js"],"names":["jQuery","document","ready","$","fn","putCursorAtEnd","this","setTimeout","$el","focus","is","el","length","len","val","setSelectionRange","scrollTop","faq_woocommerce","search_dom","ffw_admin","_search_dom","minimumResultsForSearch","__ffw_product_id","placeholder","allowClear","new_item_id","e","__ffw_products_faqs","nonce","JSON","parse","addClass","ajax","post","faq_data","response","ffw_sorting_data","console","error","stringify","html","removeClass","fail","data","sortable","axis","select2","event","$modal","log","on","openPopupForm","closePopupForm","bind","hasClass","wpColorPicker","hideDiscountNotice","preventDefault","submitModalForm","deleteAllFaq","openUpdatePopupForm","changePreviewImage","changeQuestionRange","changeAnswerRange","showProPopup","hideProPopup","wp","then","$overlay","hide","__ffw_question","ffw_answer_text","setContent","parent","toggleClass","ffw_question_val","next","stop","slideToggle","tinyMCE","activeEditor","total_product","faq_delete_data","Toast","showConfirmButton","didOpen","undefined","Swal","fire","title","icon","deleteSingleFaq","isConfirm","mixin","splice","toast","addEventListener","stopTimer","resumeTimer","stopPropagation","current_faq","parents","attr","__ffw_id","showCancelButton","__ffw_old_question","index","indexOf","faq_updated_data","current_image","show","handle","scrollSensitivity","forcePlaceholderSize","helper","selectedData","find","ffw_sortable","get","faq_sorted_data","image_layout","parseInt","text","cursor","opacity","each","push","init"],"mappings":"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","file":"faq-woocommerce-admin.min.js","sourcesContent":["/**\n * Woocommerce FAQ Admin JS\n *\n * Copyright (c) 2019 wpfeel\n * Licensed under the GPLv2+ license.\n */\njQuery(document).ready(function ($) {\n\t'use strict';\n\n    jQuery.fn.putCursorAtEnd = function() {\n\n        return this.each(function() {\n\n            // Cache references\n            var $el = $(this),\n                el = this;\n\n            // Only focus if input isn't already\n            if (!$el.is(\":focus\")) {\n                $el.focus();\n            }\n\n            // If this function exists... (IE 9+)\n            if (el.setSelectionRange) {\n\n                // Double the length because Opera is inconsistent about whether a carriage return is one character or two.\n                var len = $el.val().length * 2;\n\n                // Timeout seems to be required for Blink\n                setTimeout(function() {\n                    el.setSelectionRange(len, len);\n                }, 1);\n\n            } else {\n\n                // As a fallback, replace the contents with itself\n                // Doesn't work in Chrome, but Chrome supports setSelectionRange\n                $el.val($el.val());\n\n            }\n\n            // Scroll to the bottom, in case we're in a tall textarea\n            // (Necessary for Firefox and Chrome)\n            this.scrollTop = 999999;\n\n        });\n\n    };\n\n\t$.faq_woocommerce = {\n        ajax_url: '',\n\t\tinit: function () {\n            //assign ajax url\n            this.ajax_url = ffw_admin.ajaxurl;\n\n            // modal form\n            var $modal = $('#ffw-popup-form-wrapper .ffw-modal-frame');\n\n\n            if( \"product\" === ffw_admin.current_post_type && \"edit\" === ffw_admin.current_page_action ) {\n                //ffw select2 init\n                let search_dom = $('.ffw_search');\n                search_dom.select2({\n                    placeholder: \"Select a faq post\",\n                    allowClear: true,\n                    minimumResultsForSearch: Infinity\n                });\n\n                search_dom.on(\"select2:select\", function(e) {\n                    console.log(\"hello puishak\");\n\n                    let __ffw_product_id    = $('#ffw_product_page_id').val();\n                    let nonce               = ffw_admin.nonce;\n                    let new_item_id         = $(this).val();\n                    let __ffw_products_faqs  = $('#ffw_products').val();\n                    __ffw_products_faqs = JSON.parse(__ffw_products_faqs);\n\n                    //show loader\n                    $('#ffw_product_data .ffw-product-loader').addClass('ffw-visible');\n\n                    //insert faq's data from search\n                    let faq_data = {\n                        'product_id': __ffw_product_id,\n                        'new_item_id': new_item_id,\n                        'product_faqs': __ffw_products_faqs,\n                    };\n\n                    wp.ajax.post( 'ffw_insert_data_from_search', {\n                        nonce: nonce,\n                        faq_insert_search_data: faq_data,\n                    } ).then( response => {\n                        console.log('success.......');\n                        console.log(response.message);\n                        console.log(response.updated_data);\n                        $('#ffw_products').val(JSON.stringify(response.updated_data));\n                        $('.ffw-body').html(response.faq_body);\n\n                        //hide loader\n                        $('#ffw_product_data .ffw-product-loader').removeClass('ffw-visible');\n\n                        // FAQ sorting\n                        $.faq_woocommerce.ffw_sorting_data();\n\n                    } ).fail( error => {\n                        console.log('erorr.......');\n                        console.log(error);\n\n                        //hide loader\n                        $('#ffw_product_data .ffw-product-loader').removeClass('ffw-visible');\n                    } );\n                });\n\n                //ffw sortable\n                $(\".ffw-sortable\").sortable({\n                    axis: 'y',\n                    update : function (event, ui) {\n                        var data = $(this).sortable('serialize');\n                        console.log(data);\n\n                    }\n                });\n            }\n\n            //ffw select2 init\n            if( ffw_admin.current_page_action ) {\n                console.log(ffw_admin.current_page_action);\n            }\n            let search_dom = $('.ffw-role-select');\n            search_dom.select2({\n                placeholder: \"Select Roles\",\n                allowClear: true,\n            });\n\n            //modal js\n            $(document).on('click', '#ffw-product-form-header .ffw-add-new', this.openPopupForm);\n            $(document).on('click', '#ffw-popup-form-wrapper .ffw-modal-close, #ffw-popup-form-wrapper input[type=\"button\"]', this.closePopupForm);\n            $modal.bind('webkitAnimationEnd oanimationend msAnimationEnd animationend', function(e){\n                if($modal.hasClass('state-leave')) {\n                  $modal.removeClass('state-leave');\n                }\n            });\n\n            //onchange popup answer, update answer textarea value\n            // wp.editor.initialize('#ffw_popup_answer', {\n            //     setup: function (editor) {\n            //         editor.on('change', function () {\n            //             editor.save();\n            //         });\n            //     }\n            // });\n\n\n            //style inputs as color picker\n            $('.ffw_question_text_color').wpColorPicker();\n            $('.ffw_question_bg_color').wpColorPicker();\n            $('.ffw_question_bg_secondary_color').wpColorPicker();\n            $('.ffw_question_border_color').wpColorPicker();\n            $('.ffw_answer_text_color').wpColorPicker();\n            $('.ffw_answer_bg_color').wpColorPicker();\n            $('.ffw_answer_border_color').wpColorPicker();\n            $('.ffw-comments-date-time-color').wpColorPicker();\n            $('.ffw-comments-content-color').wpColorPicker();\n            $('.ffw-comments-author-name-color').wpColorPicker();\n            $('.ffw-comments-submit-button-text-color').wpColorPicker();\n            $('.ffw-comments-reply-button-text-color').wpColorPicker();\n            $('.ffw-comments-submit-button-bg-color').wpColorPicker();\n            $('.ffw-comments-form-border-color').wpColorPicker();\n            $('.ffw-comments-form-title-color').wpColorPicker();\n            $('.ffw-comments-reply-form-title-color').wpColorPicker();\n            $('.ffw-comments-reply-form-submit-button-color').wpColorPicker();\n            $('.ffw-comments-reply-form-submit-button-bg-color').wpColorPicker();\n            $('.ffw-comments-reply-form-border-color').wpColorPicker();\n            $('.ffw-comments-reply-form-submit-button-text-color').wpColorPicker();\n\n\n\n            //metabox option js\n            $(document).on('click', '#ffw_product_data .ffw-metabox h3', this.toggleOptionMetabox);\n            $(document).on('click', '#ffw_modal_submit', this.submitModalForm);\n            $(document).on('click', '#ffw-delete-all-faq', this.deleteAllFaq);\n            $(document).on('click', '#ffw-product-form-header .ffw-single-delete-btn', this.deleteSingleFaq);\n            $(document).on('click', '#ffw-product-form-header .ffw-single-edit-btn', this.openUpdatePopupForm);\n            $(document).on('click', '.ffw-layout-select', this.changePreviewImage);\n            $(document).on('change', '.ffw_question_font_size', this.changeQuestionRange);\n            $(document).on('change', '.ffw_answer_font_size', this.changeAnswerRange);\n            $(document).on('click', '.ffw-setting-wrapper .ffw-get-pro-wrapper', this.showProPopup);\n            $(document).on('click', '#ffw-popup-close', this.hideProPopup);\n            $(document).on('click', '.ffw-discount-notice .notice-dismiss', this.hideDiscountNotice);\n\n            // FAQ sorting\n            this.ffw_sorting_data();\n\n        },\n        hideDiscountNotice: function(e) {\n            e.preventDefault();\n\n            console.log(\"Discounted...\");\n\n            let nonce = ffw_admin.nonce;\n\n            //data\n            let data = {\n                nonce: nonce,\n            };\n\n            wp.ajax.post( 'ffw_hide_discount_notice', {\n                data: data\n            } ).then( response => {\n                console.log(response);\n            } ).fail( error => {\n                console.log('erorr during discounted notice dismissal.......');\n            } );\n\n        },\n        openPopupForm: function(e) {\n            e.preventDefault();\n\n            $('#ffw_modal_submit').show();\n            $('#ffw_modal_update').hide();\n            \n            var $modal = $('.ffw-modal-frame');\n            var $overlay = $('.modal-overlay');\n            $overlay.addClass('state-show');\n            $modal.removeClass('state-leave').addClass('state-appear');\n\n            //focus input\n            setTimeout(function() { \n                $('#ffw-popup-form-wrapper .ffw-popup-form-add-question').focus();\n            }, 500);\n\n            //reset question and answers\n            $('#ffw-popup-form-wrapper .ffw-popup-form-add-question').val('');\n            if ( jQuery(\"#wp-ffw_popup_answer-wrap\").hasClass(\"tmce-active\") ) {\n                tinymce.get(\"ffw_popup_answer\").setContent('');\n            }\n        },\n        closePopupForm: function(e) {\n            e.preventDefault();\n\n            var $modal = $('.ffw-modal-frame');\n            var $overlay = $('.modal-overlay');\n            $overlay.removeClass('state-show');\n            $modal.removeClass('state-appear').addClass('state-leave');\n\t\t},\n        toggleOptionMetabox: function (e) {\n            e.preventDefault();\n\n            $( this ).parent( '.ffw-metabox' ).toggleClass( 'closed' ).toggleClass( 'open' );\n\n            // If the user clicks on some form input inside the h3, the box should not be toggled\n            if ( $( event.target ).filter( ':input, .ffw-sort, .ffw-handle-item' ).length ) {\n                return;\n            }\n\n            $( this ).next( '.ffw-metabox-content' ).stop().slideToggle();\n        },\n        submitModalForm: function (e) {\n            e.preventDefault();\n\n            //hide the popup\n            $('.ffw-modal-frame').removeClass('state-appear');\n            $('.modal-overlay ').removeClass('state-show');\n\n            //show loader\n            $('#ffw_product_data .ffw-product-loader').addClass('ffw-visible');\n\n            let __ffw_question  = $('#ffw-popup-form-wrapper .ffw-popup-form-add-question');\n            let ffw_answer_text = '';\n            if ( jQuery(\"#wp-ffw_popup_answer-wrap\").hasClass(\"tmce-active\") ) {\n                ffw_answer_text =  tinyMCE.activeEditor.getContent();\n            }\n            let __ffw_product_id        = $('#ffw_product_page_id').val();\n            let __ffw_products_faqs     = $('#ffw_products').val();\n                __ffw_products_faqs     = JSON.parse(__ffw_products_faqs);\n\n            let nonce = ffw_admin.nonce;\n            let ffw_question_val  = __ffw_question.val();\n\n            //insert faq's data\n            let faq_data = {\n                'question': ffw_question_val,\n                'answer': ffw_answer_text,\n                'product_id': __ffw_product_id,\n                'faq_list': __ffw_products_faqs,\n            };\n\n            wp.ajax.post( 'ffw_insert_new_faq', {\n                nonce: nonce,\n                faq_data: faq_data,\n            } ).then( response => {\n                $('#ffw_products').val(JSON.stringify(response.faq_data));\n                $('.ffw-body').html(response.faq);\n                $('.ffw-popup-form-add-question').val('');\n                $('.ffw-popup-form-add-answer').val('');\n\n                //hide loader\n                $('#ffw_product_data .ffw-product-loader').removeClass('ffw-visible');\n\n                // FAQ sorting\n                $.faq_woocommerce.ffw_sorting_data();\n\n            } ).fail( error => {\n                console.log('erorr.......');\n                console.log(error);\n\n                // FAQ sorting\n                $.faq_woocommerce.ffw_sorting_data();\n            } );\n\n        },\n        deleteAllFaq: function (e) {\n            e.preventDefault();\n\n            let __ffw_product_id    = $('#ffw_product_page_id').val();\n            let __ffw_products_faqs  = $('#ffw_products').val();\n                __ffw_products_faqs = JSON.parse(__ffw_products_faqs);\n            let nonce = ffw_admin.nonce;\n\n            let total_product = '';\n            if( undefined === __ffw_products_faqs || 0 === __ffw_products_faqs.length ) {\n                console.log(__ffw_products_faqs);\n                total_product = 0;\n            }\n\n            //insert faq's data\n            let faq_delete_data = {\n                'product_id': __ffw_product_id\n            };\n\n            //delete confirm popup\n            Swal.fire({\n                title: 'Delete all the faqs?',\n                icon: 'question',\n                showCancelButton: true,\n            }).then(function(isConfirm) {\n\n                if (isConfirm.isConfirmed) {\n\n                    wp.ajax.post( 'ffw_delete_all_faqs', {\n                        nonce: nonce,\n                        faq_delete_data: faq_delete_data,\n                    }).then( response => {\n\n                        if(response.success) {\n                            //item hide\n                            $('.ffw-metabox-item').hide();\n\n                            //make current faqs data empty\n                            $('#ffw_products').val(JSON.stringify([]));\n\n                            const Toast = Swal.mixin({\n                                toast: true,\n                                position: 'bottom-end',\n                                showConfirmButton: false,\n                                timer: 1500,\n                                timerProgressBar: true,\n                                didOpen: (toast) => {\n                                    toast.addEventListener('mouseenter', Swal.stopTimer);\n                                    toast.addEventListener('mouseleave', Swal.resumeTimer);\n                                }\n                            });\n\n                            Toast.fire({\n                                icon: 'success',\n                                title: 'Delete successfull.'\n                            });\n                        }\n\n                    }).fail( error => {\n                        console.log('erorr of delete faq.......');\n                        console.log(error);\n                    });\n\n                }\n            });\n\n        },\n        deleteSingleFaq: function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            let __ffw_product_id    = $('#ffw_product_page_id').val();\n            let __ffw_products_faqs  = $('#ffw_products').val();\n                __ffw_products_faqs = JSON.parse(__ffw_products_faqs);\n            let nonce = ffw_admin.nonce;\n            let current_faq = $(this).parents('.ffw-metabox-item');\n            let current_faq_id = $(this).attr('rel');\n\n            //delete confirm popup\n            Swal.fire({\n                title: 'Are you sure to Delete?',\n                icon: 'question',\n                showCancelButton: true,\n            }).then(function(isConfirm) {\n\n                if (isConfirm.isConfirmed) {\n\n                    const index = __ffw_products_faqs.indexOf(current_faq_id);\n                    if (index > -1) {\n                        __ffw_products_faqs.splice(index, 1);\n                    }\n\n                    //update faq's data\n                    let faq_updated_data = {\n                        'product_id': __ffw_product_id,\n                        'updated_faq_list': __ffw_products_faqs\n                    };\n\n                    //hide current faq\n                    current_faq.hide();\n\n                    wp.ajax.post( 'ffw_delete_single_faq', {\n                        nonce: nonce,\n                        faq_updated_data: faq_updated_data,\n                    }).then( response => {\n                        console.log('success.......');\n                        console.log(response);\n                        console.log(JSON.stringify(response.update_faq_list));\n                        $('#ffw_products').val(JSON.stringify(response.update_faq_list));\n\n                    }).fail( error => {\n                        console.log('erorr of delete faq.......');\n                        console.log(error);\n                    });\n\n                }\n            });\n\n        },\n        openUpdatePopupForm: function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            $('#ffw_modal_submit').hide();\n            $('#ffw_modal_update').show();\n\n            //open modal\n            var $modal = $('.ffw-modal-frame');\n            var $overlay = $('.modal-overlay');\n            $overlay.addClass('state-show');\n            $modal.removeClass('state-leave').addClass('state-appear');\n\n            let __ffw_id = $(this).attr('rel');\n                $('#ffw-current-ques-id').val(__ffw_id);\n            let __ffw_old_question = $(this).parent('h3').find('strong').html();\n            let __ffw_old_answer = $(this).parents('.ffw-metabox-item').find('.ffw-metabox-content .data div').html();\n            let __ffw_question  = $('#ffw-popup-form-wrapper .ffw-popup-form-add-question');\n                __ffw_question.val(__ffw_old_question);\n\n            //focus input\n            setTimeout(function() {\n                $('#ffw-popup-form-wrapper .ffw-popup-form-add-question').focus().putCursorAtEnd();\n            }, 500);\n\n            //set value for answer\n            if ( jQuery(\"#wp-ffw_popup_answer-wrap\").hasClass(\"tmce-active\") ) {\n                tinymce.get(\"ffw_popup_answer\").setContent(__ffw_old_answer);\n            }\n        },\n        changePreviewImage: function(e) {\n            let current_image = $(this).val();\n\n            $('.ffw-setting-layout img').each(function(item) {\n               let image_layout = $(this).data('layout');\n               if( image_layout === parseInt(current_image) ) {\n                   $(this).removeClass('ffw-hide').addClass('ffw-visible');\n               }else {\n                   $(this).removeClass('ffw-visible').addClass('ffw-hide');\n               }\n            });\n        },\n        changeQuestionRange: function(e) {\n            let question_range_val = $(this).val();\n            $('.ffw_question_font_size_label').text(question_range_val + \"px\");\n        },\n        changeAnswerRange: function(e) {\n            let answer_range_val = $(this).val();\n            $('.ffw_answer_font_size_label').text(answer_range_val + \"px\");\n        },\n        ffw_sorting_data: function(e) {\n\n            // Allow FAQ sorting\n            $( '.ffw-sortable' ).sortable({\n                cursor:               'move',\n                axis:                 'y',\n                handle:               '.ffw-sort-icon',\n                scrollSensitivity:    40,\n                forcePlaceholderSize: true,\n                helper:               'clone',\n                opacity:              0.65,\n                stop:                 function() {\n                    var selectedData = [];\n                    $('.ffw-sortable .ffw-metabox-item').each(function() {\n                        selectedData.push($(this).attr(\"id\"));\n                    });\n                    $.faq_woocommerce.ffw_sortable(selectedData);\n                }\n            });\n        },\n        ffw_sortable: function(data) {\n            let __ffw_product_id    = $('#ffw_product_page_id').val();\n            let nonce               = ffw_admin.nonce;\n\n            //sort faq's data\n            let faq_data = {\n                'product_id': __ffw_product_id,\n                'faq_sorted_list': data,\n            };\n\n            wp.ajax.post( 'ffw_sort_faq_data', {\n                nonce: nonce,\n                faq_sorted_data: faq_data,\n            } ).then( response => {\n                console.log('success.......');\n                console.log(response.message);\n                $('#ffw_products').val(JSON.stringify(data));\n\n            } ).fail( error => {\n                console.log('erorr.......');\n                console.log(error);\n            } );\n        },\n        showProPopup: function(e) {\n            e.preventDefault();\n\n            $('.ffw-go-pro-modal').removeClass('ffw-hide');\n\t\t},\n        hideProPopup: function(e) {\n            e.preventDefault();\n\n            $('.ffw-go-pro-modal').addClass('ffw-hide');\n\t\t},\n\n\n\t};\n\n\n\t$.faq_woocommerce.init();\n});\n"]}