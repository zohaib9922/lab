"use strict";jQuery(document).ready(function(r){jQuery.fn.putCursorAtEnd=function(){return this.each(function(){var o,e=r(this),t=this;e.is(":focus")||e.focus(),t.setSelectionRange?(o=2*e.val().length,setTimeout(function(){t.setSelectionRange(o,o)},1)):e.val(e.val()),this.scrollTop=999999})},r.faq_woocommerce={ajax_url:"",init:function(){this.ajax_url=ffw_admin.ajaxurl;var o,e=r("#ffw-popup-form-wrapper .ffw-modal-frame");"product"===ffw_admin.current_post_type&&"edit"===ffw_admin.current_page_action&&((o=r(".ffw_search")).select2({placeholder:"Select a faq post",allowClear:!0,minimumResultsForSearch:1/0}),o.on("select2:select",function(o){console.log("hello puishak");var e=r("#ffw_product_page_id").val(),t=ffw_admin.nonce,f=r(this).val(),a=r("#ffw_products").val(),a=JSON.parse(a);r("#ffw_product_data .ffw-product-loader").addClass("ffw-visible"),wp.ajax.post("ffw_insert_data_from_search",{nonce:t,faq_insert_search_data:{product_id:e,new_item_id:f,product_faqs:a}}).then(function(o){console.log("success......."),console.log(o.message),console.log(o.updated_data),r("#ffw_products").val(JSON.stringify(o.updated_data)),r(".ffw-body").html(o.faq_body),r("#ffw_product_data .ffw-product-loader").removeClass("ffw-visible"),r.faq_woocommerce.ffw_sorting_data()}).fail(function(o){console.log("erorr......."),console.log(o),r("#ffw_product_data .ffw-product-loader").removeClass("ffw-visible")})}),r(".ffw-sortable").sortable({axis:"y",update:function(o,e){var t=r(this).sortable("serialize");console.log(t)}})),ffw_admin.current_page_action&&console.log(ffw_admin.current_page_action),r(".ffw-role-select").select2({placeholder:"Select Roles",allowClear:!0}),r(document).on("click","#ffw-product-form-header .ffw-add-new",this.openPopupForm),r(document).on("click",'#ffw-popup-form-wrapper .ffw-modal-close, #ffw-popup-form-wrapper input[type="button"]',this.closePopupForm),e.bind("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(o){e.hasClass("state-leave")&&e.removeClass("state-leave")}),r(".ffw_question_text_color").wpColorPicker(),r(".ffw_question_bg_color").wpColorPicker(),r(".ffw_question_bg_secondary_color").wpColorPicker(),r(".ffw_question_border_color").wpColorPicker(),r(".ffw_answer_text_color").wpColorPicker(),r(".ffw_answer_bg_color").wpColorPicker(),r(".ffw_answer_border_color").wpColorPicker(),r(".ffw-comments-date-time-color").wpColorPicker(),r(".ffw-comments-content-color").wpColorPicker(),r(".ffw-comments-author-name-color").wpColorPicker(),r(".ffw-comments-submit-button-text-color").wpColorPicker(),r(".ffw-comments-reply-button-text-color").wpColorPicker(),r(".ffw-comments-submit-button-bg-color").wpColorPicker(),r(".ffw-comments-form-border-color").wpColorPicker(),r(".ffw-comments-form-title-color").wpColorPicker(),r(".ffw-comments-reply-form-title-color").wpColorPicker(),r(".ffw-comments-reply-form-submit-button-color").wpColorPicker(),r(".ffw-comments-reply-form-submit-button-bg-color").wpColorPicker(),r(".ffw-comments-reply-form-border-color").wpColorPicker(),r(".ffw-comments-reply-form-submit-button-text-color").wpColorPicker(),r(document).on("click","#ffw_product_data .ffw-metabox h3",this.toggleOptionMetabox),r(document).on("click","#ffw_modal_submit",this.submitModalForm),r(document).on("click","#ffw-delete-all-faq",this.deleteAllFaq),r(document).on("click","#ffw-product-form-header .ffw-single-delete-btn",this.deleteSingleFaq),r(document).on("click","#ffw-product-form-header .ffw-single-edit-btn",this.openUpdatePopupForm),r(document).on("click",".ffw-layout-select",this.changePreviewImage),r(document).on("change",".ffw_question_font_size",this.changeQuestionRange),r(document).on("change",".ffw_answer_font_size",this.changeAnswerRange),r(document).on("click",".ffw-setting-wrapper .ffw-get-pro-wrapper",this.showProPopup),r(document).on("click","#ffw-popup-close",this.hideProPopup),r(document).on("click",".ffw-discount-notice .notice-dismiss",this.hideDiscountNotice),this.ffw_sorting_data()},hideDiscountNotice:function(o){o.preventDefault(),console.log("Discounted...");o=ffw_admin.nonce;wp.ajax.post("ffw_hide_discount_notice",{data:{nonce:o}}).then(function(o){console.log(o)}).fail(function(o){console.log("erorr during discounted notice dismissal.......")})},openPopupForm:function(o){o.preventDefault(),r("#ffw_modal_submit").show(),r("#ffw_modal_update").hide();o=r(".ffw-modal-frame");r(".modal-overlay").addClass("state-show"),o.removeClass("state-leave").addClass("state-appear"),setTimeout(function(){r("#ffw-popup-form-wrapper .ffw-popup-form-add-question").focus()},500),r("#ffw-popup-form-wrapper .ffw-popup-form-add-question").val(""),jQuery("#wp-ffw_popup_answer-wrap").hasClass("tmce-active")&&tinymce.get("ffw_popup_answer").setContent("")},closePopupForm:function(o){o.preventDefault();o=r(".ffw-modal-frame");r(".modal-overlay").removeClass("state-show"),o.removeClass("state-appear").addClass("state-leave")},toggleOptionMetabox:function(o){o.preventDefault(),r(this).parent(".ffw-metabox").toggleClass("closed").toggleClass("open"),r(event.target).filter(":input, .ffw-sort, .ffw-handle-item").length||r(this).next(".ffw-metabox-content").stop().slideToggle()},submitModalForm:function(o){o.preventDefault(),r(".ffw-modal-frame").removeClass("state-appear"),r(".modal-overlay ").removeClass("state-show"),r("#ffw_product_data .ffw-product-loader").addClass("ffw-visible");var o=r("#ffw-popup-form-wrapper .ffw-popup-form-add-question"),e="",t=(jQuery("#wp-ffw_popup_answer-wrap").hasClass("tmce-active")&&(e=tinyMCE.activeEditor.getContent()),r("#ffw_product_page_id").val()),f=r("#ffw_products").val(),f=JSON.parse(f),a=ffw_admin.nonce,o=o.val();wp.ajax.post("ffw_insert_new_faq",{nonce:a,faq_data:{question:o,answer:e,product_id:t,faq_list:f}}).then(function(o){r("#ffw_products").val(JSON.stringify(o.faq_data)),r(".ffw-body").html(o.faq),r(".ffw-popup-form-add-question").val(""),r(".ffw-popup-form-add-answer").val(""),r("#ffw_product_data .ffw-product-loader").removeClass("ffw-visible"),r.faq_woocommerce.ffw_sorting_data()}).fail(function(o){console.log("erorr......."),console.log(o),r.faq_woocommerce.ffw_sorting_data()})},deleteAllFaq:function(o){o.preventDefault();var o=r("#ffw_product_page_id").val(),e=r("#ffw_products").val(),e=JSON.parse(e),t=ffw_admin.nonce,f=(void 0!==e&&0!==e.length||console.log(e),{product_id:o});Swal.fire({title:"Delete all the faqs?",icon:"question",showCancelButton:!0}).then(function(o){o.isConfirmed&&wp.ajax.post("ffw_delete_all_faqs",{nonce:t,faq_delete_data:f}).then(function(o){o.success&&(r(".ffw-metabox-item").hide(),r("#ffw_products").val(JSON.stringify([])),Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:function(o){o.addEventListener("mouseenter",Swal.stopTimer),o.addEventListener("mouseleave",Swal.resumeTimer)}}).fire({icon:"success",title:"Delete successfull."}))}).fail(function(o){console.log("erorr of delete faq......."),console.log(o)})})},deleteSingleFaq:function(o){o.preventDefault(),o.stopPropagation();var e=r("#ffw_product_page_id").val(),t=r("#ffw_products").val(),t=JSON.parse(t),f=ffw_admin.nonce,a=r(this).parents(".ffw-metabox-item"),n=r(this).attr("rel");Swal.fire({title:"Are you sure to Delete?",icon:"question",showCancelButton:!0}).then(function(o){o.isConfirmed&&(-1<(o=t.indexOf(n))&&t.splice(o,1),o={product_id:e,updated_faq_list:t},a.hide(),wp.ajax.post("ffw_delete_single_faq",{nonce:f,faq_updated_data:o}).then(function(o){console.log("success......."),console.log(o),console.log(JSON.stringify(o.update_faq_list)),r("#ffw_products").val(JSON.stringify(o.update_faq_list))}).fail(function(o){console.log("erorr of delete faq......."),console.log(o)}))})},openUpdatePopupForm:function(o){o.preventDefault(),o.stopPropagation(),r("#ffw_modal_submit").hide(),r("#ffw_modal_update").show();var o=r(".ffw-modal-frame"),o=(r(".modal-overlay").addClass("state-show"),o.removeClass("state-leave").addClass("state-appear"),r(this).attr("rel")),o=(r("#ffw-current-ques-id").val(o),r(this).parent("h3").find("strong").html()),e=r(this).parents(".ffw-metabox-item").find(".ffw-metabox-content .data div").html();r("#ffw-popup-form-wrapper .ffw-popup-form-add-question").val(o),setTimeout(function(){r("#ffw-popup-form-wrapper .ffw-popup-form-add-question").focus().putCursorAtEnd()},500),jQuery("#wp-ffw_popup_answer-wrap").hasClass("tmce-active")&&tinymce.get("ffw_popup_answer").setContent(e)},changePreviewImage:function(o){var e=r(this).val();r(".ffw-setting-layout img").each(function(o){r(this).data("layout")===parseInt(e)?r(this).removeClass("ffw-hide").addClass("ffw-visible"):r(this).removeClass("ffw-visible").addClass("ffw-hide")})},changeQuestionRange:function(o){var e=r(this).val();r(".ffw_question_font_size_label").text(e+"px")},changeAnswerRange:function(o){var e=r(this).val();r(".ffw_answer_font_size_label").text(e+"px")},ffw_sorting_data:function(o){r(".ffw-sortable").sortable({cursor:"move",axis:"y",handle:".ffw-sort-icon",scrollSensitivity:40,forcePlaceholderSize:!0,helper:"clone",opacity:.65,stop:function(){var o=[];r(".ffw-sortable .ffw-metabox-item").each(function(){o.push(r(this).attr("id"))}),r.faq_woocommerce.ffw_sortable(o)}})},ffw_sortable:function(e){var o=r("#ffw_product_page_id").val(),t=ffw_admin.nonce;wp.ajax.post("ffw_sort_faq_data",{nonce:t,faq_sorted_data:{product_id:o,faq_sorted_list:e}}).then(function(o){console.log("success......."),console.log(o.message),r("#ffw_products").val(JSON.stringify(e))}).fail(function(o){console.log("erorr......."),console.log(o)})},showProPopup:function(o){o.preventDefault(),r(".ffw-go-pro-modal").removeClass("ffw-hide")},hideProPopup:function(o){o.preventDefault(),r(".ffw-go-pro-modal").addClass("ffw-hide")}},r.faq_woocommerce.init()});
//# sourceMappingURL=faq-woocommerce-admin.min.js.map
